#include <stdio.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <iostream.h>
#include <time.h>

#ifdef _RATE48000

#define   GROUP_DELAY 31
#define   REV_FILTERL 63

#else                      //_RATE441000

#define   GROUP_DELAY 28
#define   REV_FILTERL 57
#endif

#define FRAMEL 8192
#define Max_Acqtime 2
#define Max_Sync_Jitter 20


#define min(a,b)  a>b?b:a
#define ESP 0.0000000000000002220446049250313

#define OVERTIME 10

struct _State
{
	int Sync_State;
	int Count_Acq;
	int Sync_pos;
	double Max_Rxpn_AbsShiftAdd;
	int frame;

};



struct _corrstr
{	
	int positon;
	double maxvalue;
};

#ifdef _RATE48000

const double h_extfilter[63] ={
 -0.0062,-0.0061,-0.0047,-0.0020,0.0016,0.0053,0.0083,0.0099,
  0.0095,0.0069,0.0024,-0.0034,-0.0093,-0.0140,-0.0162,-0.0152,
  -0.0106,-0.0027,0.0073,0.0175,0.0259,0.0301,0.0283,0.0193,
  0.0029,-0.0200,-0.0473,-0.0763,-0.1036,-0.1260,-0.1407,0.8542,
  -0.1407,-0.1260 ,-0.1036,-0.0763,-0.0473,-0.0200,0.0029,0.0193,
  0.0283,0.0301,0.0259,0.0175,0.0073,-0.0027,-0.0106,-0.0152,
   -0.0162,-0.0140,-0.0093,-0.0034,0.0024,0.0069,0.0095,0.0099,    
   0.0083,0.0053,0.0016,-0.0020,-0.0047,-0.0061,-0.0062
};
#else

	const double h_extfilter[57] ={
  -0.0068,-0.0058,-0.0031,0.0009,0.0052,0.0089,0.0107,0.0100,0.0065,0.0007,-0.0063,-0.0128,
  -0.0169,-0.0173,-0.0130,-0.0044,0.0072,0.0193,0.0289,0.0329,0.0287,0.0151,-0.0077,-0.0379,
  -0.0719,-0.1053,-0.1334,-0.1521,0.8413,-0.1521,-0.1334,-0.1053,-0.0719,-0.0379,-0.0077,0.0151,
   0.0287,0.0329,0.0289,0.0193,0.0072,-0.0044,-0.0130,-0.0173,-0.0169,-0.0128,-0.0063,0.0007,
   0.0065,0.0100,0.0107,0.0089,0.0052,0.0009,-0.0031,-0.0058,-0.0068
};
//hp_filter  [3,4]*1e3: Astop = -20 :Rpass = 0.05;  
#endif
